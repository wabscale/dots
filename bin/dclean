#!/bin/sh

#
# This script deals with dockers lack of clenaup mechagnisms
#


dockercleanv () {
    docker volume ls -qf dangling=true | xargs -r docker volume rm
    docker system prune -f
}


dockerkill () {
    docker kill $(docker ps -q)
    docker system prune -f
}


dockerclean () {
    dockerkill
    dockercleanv
    docker rmi $(docker image list -q)
}


dockerclean
