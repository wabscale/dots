#!/bin/bash

while true
do
	s=$(uuidgen | tr -d '\n')
        pscircle \
	    --root-pid=1 \
            --show-root=1 \
	    --collapse-threads=true \
	    --max-children=35 \
	    --tree-sector-angle=3.1415 \
	    --tree-rotate=true \
	    --tree-rotation-angle=1.5708 \
	    --tree-center=-1580:0 \
	    --cpulist-center=300:0 \
	    --memlist-center=800:0 \
            --memory-unit=G \
            --tree-anchor-proc-name=termite \
            --tree-anchor-proc-angle=0 \
	    --background-color=1e2226 \
	    --link-color-min=375143a0 \
	    --link-color-max=375143 \
	    --dot-color-min=7c762f \
	    --dot-color-max=b56e46 \
	    --tree-font-size=18 \
	    --tree-font-color=94bfd1 \
	    --tree-font-face="Noto Sans" \
	    --toplists-row-height=35 \
	    --toplists-font-size=24 \
	    --toplists-font-color=C8D2D7 \
	    --toplists-pid-font-color=7B9098 \
	    --toplists-font-face="Liberation Sans" \
	    --toplists-bar-height=7 \
	    --toplists-bar-background=444444 \
	    --toplists-bar-color=7d54dd \
            --tree-radius-increment=150 \
            --output=/tmp/${s}
        feh --bg-max --no-fehbg /tmp/${s}
	rm /tmp/$s
	sleep 3
done
